<!doctype html>
<html lang="en" ng-app>

<head>
  <title>CannonAide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript" src="source/lib/three.js"></script>
  <script type="text/javascript" src="source/lib/stats.min.js"></script>
  <script type="text/javascript" src="source/lib/OBJLoader.js"></script>
  <script type="text/javascript" src="source/lib/Array.Prototype.Find.js"></script>
  <script type="text/javascript" src="source/renderer.js"></script>
  <script type="text/javascript" src="source/input.manager.js"></script>
  <script type="text/javascript" src="source/game.manager.js"></script>
  <script type="text/javascript" src="source/entities.js"></script>
</head>

<body>
  <div id="container">
    <canvas id="viewport">
    </canvas>
  </div>
  <script>
    /* global Stats */
    var stats = new Stats();
    stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom
    document.body.appendChild(stats.dom);

    window.engine.Renderer.Init(document.getElementById("viewport"));
    window.engine.Renderer.Load("resources/index.json");
    window.engine.Renderer.onLoad = function() {

      window.engine.GameManager.Load("resources/objects.json", "resources/collisions.json");
      window.engine.GameManager.onload = function() {

        window.engine.GameManager.Start();
        window.engine.GameManager.SpawnObject("AideGame");

        main();

      };
    };

    function main() {

      requestAnimationFrame(main);

      stats.begin();
      window.engine.GameManager.Update();
      window.engine.Renderer.Render();
      stats.end();
    }
  </script>

</body>

</html>